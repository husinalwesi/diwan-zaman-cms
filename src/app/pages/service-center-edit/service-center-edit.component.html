<form class="mb-5" #form="ngForm" novalidate (ngSubmit)="submitForm(form)">
    <div class="card card-custom card-stretch">
        <div class="card-header py-3">
        <div class="card-title align-items-start flex-column">
            <!--  -->
            <h3 class="card-label font-weight-bolder text-dark">{{'Service Centre Information' | translate}}</h3>
        </div>
        <div class="card-toolbar">
            <button *ngIf="!isViewPage" type="submit" class="btn btn-success mr-2" [translate]="'SHARED.SAVE_CHANGES'"></button>
            <button type="button" (click)="cancelChanges()" class="mr-2 btn btn-secondary" [translate]="'SHARED.CANCEL'"></button>
            <!-- <button type="button" (click)="backPage()" class="btn btn-light" [translate]="'SHARED.BACK'"></button> -->
        </div>
        </div>
        <div class="form">
        <div class="card-body">
            <div class="form-group row">
                <label class="col-xl-3 col-lg-3 col-form-label">{{'Service Name (En)' | translate}}</label>
                <div class="col-lg-9 col-xl-6">
                    <div class="input-group input-group-lg input-group-solid"
                    [ngClass]="{'errorBorder': (!form.controls.name_en?.valid || form.controls.name_en?.value == '0') && isSubmitted,
                    'successBorder': form.controls.name_en?.valid && isSubmitted && form.controls.name_en?.value != '0'}"
                    >
                    <input type="text" class="form-control form-control-lg form-control-solid" name="name_en" [(ngModel)]="name_en" required [placeholder]="'Service Name (En)' | translate" [disabled]="isViewPage" />
                    </div>
                    <span class="help-block" *ngIf="!form.controls.name_en?.valid && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-xl-3 col-lg-3 col-form-label">{{'Service Name (Ar)' | translate}}</label>
                <div class="col-lg-9 col-xl-6">
                    <div class="input-group input-group-lg input-group-solid"
                    [ngClass]="{'errorBorder': (!form.controls.name_ar?.valid || form.controls.name_ar?.value == '0') && isSubmitted,
                    'successBorder': form.controls.name_ar?.valid && isSubmitted && form.controls.name_ar?.value != '0'}"
                    >
                    <input type="text" class="form-control form-control-lg form-control-solid" name="name_ar" [(ngModel)]="name_ar" required [placeholder]="'Service Name (Ar)' | translate" [disabled]="isViewPage" />
                    </div>
                    <span class="help-block" *ngIf="!form.controls.name_ar?.valid && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-xl-3 col-lg-3 col-form-label">{{'Description (En)' | translate}}</label>
                <div class="col-lg-9 col-xl-6">
                    <textarea type="text" name="description" [(ngModel)]="description" class="form-control" required
                    [disabled]="isViewPage"
                    [placeholder]="'Description (En)' | translate"
                    [ngClass]="{'errorBorder': !form.controls.description?.valid && isSubmitted,
                    'successBorder': form.controls.description?.valid && isSubmitted}"
                    ></textarea>
                    <span class="help-block" *ngIf="!form.controls.description?.valid && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-xl-3 col-lg-3 col-form-label">{{'Description (Ar)' | translate}}</label>
                <div class="col-lg-9 col-xl-6">
                    <textarea type="text" name="description_ar" [(ngModel)]="description_ar" class="form-control" required
                    [disabled]="isViewPage"
                    [placeholder]="'Description (Ar)' | translate"
                    [ngClass]="{'errorBorder': !form.controls.description_ar?.valid && isSubmitted,
                    'successBorder': form.controls.description_ar?.valid && isSubmitted}"
                    ></textarea>
                    <span class="help-block" *ngIf="!form.controls.description_ar?.valid && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                </div>
            </div>
       
            <div class="form-group row">
                <label class="col-xl-3 col-lg-3 col-form-label">{{'Status' | translate}}</label>
                <div class="col-lg-9 col-xl-6">
                    <div class="input-group input-group-lg input-group-solid"
                    [ngClass]="{'errorBorder': (!form.controls.status?.valid || form.controls.status?.value == '0') && isSubmitted,
                    'successBorder': form.controls.status?.valid && isSubmitted && form.controls.status?.value != '0'}"
                    >
                        <select name="status" [(ngModel)]="status" required class="form-control form-control-lg form-control-solid"
                        [disabled]="isViewPage"
                        >
                            <option value="0" [translate]="'SHARED.CHOOSE_ONE'"></option>
                            <option *ngFor="let item of statusList" [value]="item.id">{{item.name}}</option>
                        </select>
                    </div>
                    <span class="help-block" *ngIf="(!form.controls.status?.valid || form.controls.status?.value == '0') && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                </div>
            </div>

            <!-- <div class="form-group row">
                <label class="col-xl-3 col-lg-3 col-form-label">Services</label>
                <div class="col-lg-9 col-xl-6">
                    <div class="input-group input-group-lg input-group-solid"
                    [ngClass]="{'errorBorder': (!form.controls.services?.valid || form.controls.services?.value == '0') && isSubmitted,
                    'successBorder': form.controls.services?.valid && isSubmitted && form.controls.services?.value != '0'}"
                    >
                        <select name="services" [(ngModel)]="services" required class="form-control form-control-lg form-control-solid">
                            <option value="0" [translate]="'SHARED.CHOOSE_ONE'"></option>
                            <option *ngFor="let item of servicesList" [value]="item.id">{{item.value}}</option>
                        </select>
                    </div>
                    <span class="help-block" *ngIf="(!form.controls.services?.valid || form.controls.services?.value == '0') && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                </div>
            </div> -->

            <!-- <div class="form-group row">
                <label class="col-xl-3 col-lg-3 col-form-label">{{'Services' | translate}}</label>
                <div class="col-lg-9 col-xl-6">
                    <div class="input-group input-group-lg input-group-solid"
                    [ngClass]="{'errorBorder': (!form.controls.services?.valid || form.controls.services?.value == '0') && isSubmitted,
                    'successBorder': form.controls.services?.valid && isSubmitted && form.controls.services?.value != '0'}"
                    >
                    <ng-multiselect-dropdown class="w-100" [placeholder]="'-- Select Services --' | translate"
                    [settings]="dropdownSettings" [data]="servicesMultiple"
                    [(ngModel)]="services" name="services">
                    </ng-multiselect-dropdown>
                    </div>
                    <span class="help-block" *ngIf="(!form.controls.services?.valid || form.controls.services?.value == '0') && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                </div>
            </div> -->

            <div class="form-group row">
                <label class="col-xl-3 col-lg-3 col-form-label">{{'Brand' | translate}}</label>
                <div class="col-lg-9 col-xl-6">
                    <div class="input-group input-group-lg input-group-solid"
                    [ngClass]="{'errorBorder': (!form.controls.brand?.valid || form.controls.brand?.value == '0') && isSubmitted,
                    'successBorder': form.controls.brand?.valid && isSubmitted && form.controls.brand?.value != '0'}"
                    >
                    <ng-multiselect-dropdown class="w-100" [placeholder]="'-- Select Brands --' | translate"
                    [disabled]="isViewPage"
                    [settings]="dropdownSettings" [data]="brandList"
                    [(ngModel)]="brand" name="brand">
                    </ng-multiselect-dropdown>
                    </div>
                    <span class="help-block" *ngIf="brand.length == 0 && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-xl-3 col-lg-3 col-form-label">{{'Main Categories' | translate}}</label>
                <div class="col-lg-9 col-xl-6">
                    <div class="input-group input-group-lg input-group-solid"
                    [ngClass]="{'errorBorder': (!form.controls.mainCategories?.valid || form.controls.mainCategories?.value == '0') && isSubmitted,
                    'successBorder': form.controls.mainCategories?.valid && isSubmitted && form.controls.mainCategories?.value != '0'}"
                    >
                    <ng-multiselect-dropdown class="w-100" [placeholder]="'-- Select Main Categories --' | translate"
                    [disabled]="isViewPage"
                    [settings]="dropdownSettings" [data]="mainCategoriesList"
                    [(ngModel)]="mainCategories" name="mainCategories">
                    </ng-multiselect-dropdown>
                    </div>
                    <span class="help-block" *ngIf="mainCategories.length == 0 && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                </div>
            </div>


            <app-bitwise (bitWiseEmiter)="bitWiseEmiter($event)" [totalBitWise]="totalBitWise" [isViewPage]="isViewPage"></app-bitwise>
            <div class="form-group row">
                <label class="col-xl-3 col-lg-3 col-form-label">{{'From' | translate}}</label>
                <div class="col-lg-9 col-xl-6">
                    <div class="input-group input-group-lg input-group-solid"
                    [ngClass]="{'errorBorder': (!form.controls.from?.valid || form.controls.from?.value == '0') && isSubmitted,
                    'successBorder': form.controls.from?.valid && isSubmitted && form.controls.from?.value != '0'}"
                    >
                        <select name="from" [(ngModel)]="from" required class="form-control form-control-lg form-control-solid"
                        [disabled]="isViewPage">
                            <option value="0" [translate]="'SHARED.CHOOSE_ONE'"></option>
                            <option *ngFor="let item of timeList" [value]="item.id">{{item.value}}</option>
                        </select>
                    </div>
                    <span class="help-block" *ngIf="(!form.controls.from?.valid || form.controls.from?.value == '0') && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-xl-3 col-lg-3 col-form-label">{{'To' | translate}}</label>
                <div class="col-lg-9 col-xl-6">
                    <div class="input-group input-group-lg input-group-solid"
                    [ngClass]="{'errorBorder': ((!form.controls.to?.valid || form.controls.to?.value == '0') || !checkValidationTime(form)) && isSubmitted,
                    'successBorder': form.controls.to?.valid && isSubmitted && form.controls.to?.value != '0'}"
                    >
                        <select name="to" [(ngModel)]="to" required class="form-control form-control-lg form-control-solid"
                        [disabled]="isViewPage">
                            <option value="0" [translate]="'SHARED.CHOOSE_ONE'"></option>
                            <option *ngFor="let item of timeList" [value]="item.id">{{item.value}}</option>
                        </select>
                    </div>
                    <span class="help-block" *ngIf="(!form.controls.to?.valid || form.controls.to?.value == '0') && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                    <span class="help-block" *ngIf="!checkValidationTime(form) && isSubmitted">{{'Time to' | translate}} {{form.controls.to?.value}} {{'less time from' | translate}} {{form.controls.from?.value}}</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-3 col-xl-3 col-lg-3 col-form-label">{{'Estimated Time' | translate}}</label>
                <div class="col-7 col-lg-7 col-xl-6">
                    <div class="example-container">
                        <input type="number" name="estimatedTime" [(ngModel)]="estimatedTime" class="form-control" required
                        [disabled]="isViewPage"
                        [placeholder]="'Estimated Time' | translate"
                        [ngClass]="{'errorBorder': !form.controls.estimatedTime?.valid && isSubmitted,
                        'successBorder': form.controls.estimatedTime?.valid && isSubmitted}"
                        />
                        <span class="help-block" *ngIf="!form.controls.estimatedTime?.valid && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                    </div>
                </div>
                <div class="col-2 col-lg-2 col-xl-2"></div>
            </div>
            <div class="col-md-12 mt-5 mb-5">
                <div class="example-container">
                    <label>{{'Location' | translate}}</label>
                    <app-map [latitude]="latitude" [longitude]="longitude" [readOnly]="isViewPage" [showDetails]="false" [draggable]="true" (changeLocationEmiter)="changeLocationEmiter($event)"></app-map>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-6 mt-2">
                    <div class="example-container">
                        <label>{{'Email' | translate}}</label>
                        <input type="email" email name="email" [(ngModel)]="email" class="form-control" required
                        [disabled]="isViewPage"
                        [placeholder]="'Email' | translate"
                        [ngClass]="{'errorBorder': !form.controls.email?.valid && isSubmitted,
                        'successBorder': form.controls.email?.valid && isSubmitted}"
                        />
                        <span class="help-block" *ngIf="!form.controls.email?.valid && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                    </div>
                </div>
                <div class="col-md-6 mt-2">
                    <div class="example-container">
                        <label>{{'Subscription' | translate}}</label>
                        <select name="Subscription_id" [(ngModel)]="Subscription_id" required class="form-control"
                        [ngClass]="{'errorBorder': (!form.controls.Subscription_id?.valid || form.controls.Subscription_id?.value == '0') && isSubmitted,
                        'successBorder': form.controls.Subscription_id?.valid && isSubmitted && form.controls.Subscription_id?.value != '0'}"
                        [disabled]="isViewPage"
                        >
                            <option value="0" [translate]="'SHARED.CHOOSE_ONE'"></option>
                            <option *ngFor="let item of SubscriptionList" [value]="item.id">{{item.value}}</option>
                        </select>
                        <span class="help-block" *ngIf="(!form.controls.Subscription_id?.valid || form.controls.Subscription_id?.value == '0') && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span>
                    </div>
                </div>
                <div class="col-md-6 mt-2">
                    <div class="example-container">
                        <label>{{'Secondary Email' | translate}}</label>
                        <input type="email" email name="secondary_email" [(ngModel)]="secondary_email" class="form-control"
                        [disabled]="isViewPage"
                        [placeholder]="'Secondary Email' | translate"
                        />
                        <!-- <span class="help-block" *ngIf="!form.controls.email?.valid && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span> -->
                    </div>
                </div>
                <div class="col-md-6 mt-2">
                    <div class="example-container">
                        <label>{{'Secondary Phone Number' | translate}}</label>
                        <input type="text" name="secondary_phone_number" [(ngModel)]="secondary_phone_number" class="form-control"
                        [placeholder]="'Secondary Phone Number' | translate"
                        [disabled]="isViewPage"
                        />
                        <!-- <span class="help-block" *ngIf="!form.controls.phone_number?.valid && isSubmitted" [translate]="'SHARED.THIS_FIELD_IS_REQUIRED'"></span> -->
                    </div>
                </div>                      
                <div class="col-md-6 mt-2">
                    <div class="example-container">
                        <label class="d-block invisible">[INVISABLE]</label>
                        <label class="checkbox-container special-check mt-3">
                            <label class="special-float">{{'is sponsored' | translate}}</label>
                            <input type="checkbox" name="is_sponsored" [(ngModel)]="is_sponsored" [disabled]="isViewPage" />
                            <span class="checkmark"></span>
                        </label>
                    </div>
                </div>
                
            </div>
        </div>
        </div>
    </div>
</form>
<app-time-slot *ngIf="!isCreatePage" [isViewPage]="isViewPage" [response]="slots" [id]="id" [type]="'ServiceCenter'"></app-time-slot>